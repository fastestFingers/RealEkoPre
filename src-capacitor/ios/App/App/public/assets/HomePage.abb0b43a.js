import{u as X,_ as $,l as p,m as Y,Q as J,r as n,aW as Z,w as S,o as ee,av as H,n as h,p as r,q as w,s as d,f as t,U as c,a6 as C,aX as N,as as R,az as B,S as i,a5 as j,Y as u,X as m,aA as te,a7 as ae,F as D,V as se,t as _}from"./index.9793c43f.js";import{Q as G}from"./QToolbar.76ca8ca1.js";import{u as oe,a as le}from"./use-page-sticky.5f656191.js";import{Q as I}from"./QSpace.04e5e530.js";import{Q as re}from"./QToolbarTitle.1f40af49.js";import{Q as y}from"./QSkeleton.6e239cc5.js";import{Q as ne,a as ie}from"./QTabPanels.adfa00d5.js";import{Q as de}from"./QPage.dcf44012.js";import{Q as ce}from"./QPullToRefresh.3943d5c2.js";import{u as ue}from"./DeliverySched.51e51dc1.js";import{u as me}from"./PlaceStore.9f90f8e0.js";import"./use-panel.86a01025.js";import"./touch.9135741d.js";import"./selection.f40087f4.js";import"./use-render-cache.3aae9b27.js";import"./format.8ac60962.js";var fe=X({name:"QPageSticky",props:oe,setup(s,{slots:a}){const{getStickyContent:k}=le();return()=>k(a)}});const pe={name:"HomePage",components:{HomeBanner:p(()=>_(()=>import("./HomeBanner.da838c55.js"),["assets/HomeBanner.da838c55.js","assets/swiper.min.b39a1361.css","assets/index.9793c43f.js","assets/index.661bbb30.css","assets/QSkeleton.6e239cc5.js","assets/QImg.51839b12.js","assets/swiper-slide.48402cb7.js","assets/CartStore.e08e1718.js"])),CuisineCarousel:p(()=>_(()=>import("./CuisineCarousel.789e6127.js"),["assets/CuisineCarousel.789e6127.js","assets/CuisineCarousel.2b7f5a7d.css","assets/QSkeleton.6e239cc5.js","assets/index.9793c43f.js","assets/index.661bbb30.css"])),BrowseCuisine:p(()=>_(()=>import("./BrowseCuisine.f8bbd0bd.js"),["assets/BrowseCuisine.f8bbd0bd.js","assets/QToolbarTitle.1f40af49.js","assets/index.9793c43f.js","assets/index.661bbb30.css","assets/QSpace.04e5e530.js","assets/QToolbar.76ca8ca1.js"])),MerchantCarousel:p(()=>_(()=>import("./MerchantCarousel.81a414de.js"),["assets/MerchantCarousel.81a414de.js","assets/swiper.min.b39a1361.css","assets/QSkeleton.6e239cc5.js","assets/index.9793c43f.js","assets/index.661bbb30.css","assets/QChip.82264df0.js","assets/swiper-slide.48402cb7.js"])),MerchantList:p(()=>_(()=>import("./MerchantList.3595b257.js"),[])),MerchantFilter:p(()=>_(()=>import("./MerchantFilter.747a5e22.js"),["assets/MerchantFilter.747a5e22.js","assets/QToolbarTitle.1f40af49.js","assets/index.9793c43f.js","assets/index.661bbb30.css","assets/QSpace.04e5e530.js","assets/QToolbar.76ca8ca1.js","assets/QBtnToggle.3250107e.js","assets/QBtnGroup.0b2a69a0.js","assets/QPullToRefresh.3943d5c2.js","assets/touch.9135741d.js","assets/selection.f40087f4.js","assets/format.8ac60962.js","assets/QFooter.b1186792.js","assets/QResizeObserver.d4331a6a.js","assets/DeliverySched.51e51dc1.js"])),NoResults:p(()=>_(()=>import("./NoResults.7a613313.js"),["assets/NoResults.7a613313.js","assets/QImg.51839b12.js","assets/index.9793c43f.js","assets/index.661bbb30.css"]))},setup(){const s=Y.getStorage("transaction_type"),a=J(),k=n({transaction_type:s}),e=n("popular"),V=n("all"),M=n([]),A=n(""),P=n(1),v=n([]),Q=Z(),f=n(!0),q=n(void 0),T=n(null),l=n(null),g=n(null),F=n([]),U=n(!1),L=n(!1),E=n(""),O=n(""),x=ue();S(()=>x.new_transaction_type,(o,z)=>{console.log("DeliveryschedStore=>"+o),x.filters.transaction_type=o,b(x.filters)}),S(()=>x.main_layout_header,(o,z)=>{U.value=!o});const W=me();S(()=>W.data,(o,z)=>{a.filters.place_id=o.place_id,b(a.filters)}),S(()=>a.list_loading_handle,(o,z)=>{V.value=="all"&&(Object.keys(a.list_data).length>0?f.value=!0:f.value=!1)}),ee(()=>{H.authenticated()?F.value=H.getUser():F.value=!1,Object.keys(a.filters).length<=0&&b({transaction_type:s}),Object.keys(a.featured_data).length<=0&&a.getFeaturedList()});const K=o=>{v.value=o},b=o=>{f.value=!0,a.filters=o};return{filters:k,topResto:e,q:A,slide:P,cuisineList:v,afterGetdata:K,applyFilter:b,goSearch:()=>{Q.push("/search")},runFilter:()=>{console.debug("runFilter")},merchantList:T,merchantRefCarousel:l,merchantRefCarousel2:g,featuredTab:V,featured:M,afterResults:o=>{console.log("afterResults =>"+o),f.value=o},hasResult:f,DataStore:a,userData:F,filterAgain:()=>{console.log("filterAgain"),q.value.filter=!0},merchant_filter:q,refresh:o=>{a.getBanner(),a.CuisineList(),a.getFeaturedList(),b({transaction_type:s}),setTimeout(()=>{o()},1e3)},isSticky:U,PlaceStore:W,webviewOpen:L,webviewUrl:E,webviewTitle:O,openWebview:o=>{E.value=o,O.value=o.includes("laundry")?"Laundry":o.includes("synxis")?"Rooms":"Haute Table",L.value=!0},closeWebview:()=>{L.value=!1,E.value="",O.value=""}}}},he={class:"text-weight-bold q-ma-none"},_e={key:0,class:"text-secondary"},ye={key:1,class:"text-secondary"},ve={class:"text-weight-medium q-ma-none"},ge={class:"q-my-md row items-center justify-center",style:{gap:"12px"}},be=["src"],we={class:"q-mt-md"},ke={key:0,class:"row justify-between"},qe={key:1,class:"row"},xe={class:"col"},Se={class:"text-h5 text-weight-medium"},Ce={class:"col text-right"},Re={class:"q-mt-sm q-mb-xs"},De={key:0,class:"row justify-between"},Ve={key:0,class:"row"},Ae={class:"col"},Pe={class:"text-h5 text-weight-medium"},Qe={class:"col text-right"},Te={class:"q-mt-sm q-mb-xs"},Fe={key:0,class:"row justify-between"},Le={key:0,class:"row"},Ee={class:"col"},Oe={class:"text-h5 text-weight-medium"},ze={class:"col text-right"},Be={class:"text-center q-pa-sm"};function Ie(s,a,k,e,V,M){const A=h("HomeBanner"),P=h("CuisineCarousel"),v=h("MerchantCarousel"),Q=h("MerchantList"),f=h("NoResults"),q=h("MerchantFilter"),T=h("BrowseCuisine");return r(),w(ce,{onRefresh:e.refresh},{default:d(()=>[t(de,{padding:"",class:C(["q-pl-md q-pr-md",{"flex flex-center":!e.hasResult}])},{default:d(()=>[e.hasResult?(r(),c(D,{key:0},[e.isSticky?(r(),w(fe,{key:0,expand:"",position:"top",class:"z-top"},{default:d(()=>[t(G,{class:C(["text-dark q-pl-md q-pr-md q-pt-sm q-pb-sm",{"bg-mydark":s.$q.dark.mode,"bg-white":!s.$q.dark.mode}])},{default:d(()=>[t(N,{modelValue:e.q,"onUpdate:modelValue":a[1]||(a[1]=l=>e.q=l),label:s.$t("Search desired food and restaurants"),onClick:e.goSearch,readonly:"",outlined:"","lazy-rules":"","bg-color":s.$q.dark.mode?"grey600":"input","label-color":s.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless fit",dense:""},{prepend:d(()=>[t(R,{name:"eva-search-outline",size:"sm"})]),append:d(()=>[t(R,{name:"tune",class:"cursor-pointer",onClick:a[0]||(a[0]=l=>this.$refs.merchant_filter.filter=!0),size:"sm"})]),_:1},8,["modelValue","label","onClick","bg-color","label-color"])]),_:1},8,["class"])]),_:1})):B("",!0),i("h5",he,[j(u(s.$t("Hello"))+", ",1),e.userData?(r(),c("span",_e,u(e.userData.first_name),1)):(r(),c("span",ye,u(s.$t("Guest")),1))]),i("p",ve,u(s.$t("Find your delicious dish")),1),t(I,{class:"q-pa-xs"}),t(N,{modelValue:e.q,"onUpdate:modelValue":a[3]||(a[3]=l=>e.q=l),label:s.$t("Search desired food and restaurants"),onClick:e.goSearch,readonly:"",outlined:"","lazy-rules":"","bg-color":s.$q.dark.mode?"grey600":"input","label-color":s.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless"},{prepend:d(()=>[t(R,{name:"eva-search-outline",size:"sm"})]),append:d(()=>[t(R,{name:"tune",class:"cursor-pointer",onClick:a[2]||(a[2]=l=>this.$refs.merchant_filter.filter=!0),size:"sm"})]),_:1},8,["modelValue","label","onClick","bg-color","label-color"]),t(I,{class:"q-pa-sm"}),t(A,{ref:"home_banner"},null,512),i("div",ge,[t(m,{onClick:a[4]||(a[4]=l=>e.openWebview("https://laundry.ekohotelsdelivery.com/")),unelevated:"","text-color":"white",label:"Laundry","no-caps":"",class:"text-weight-600 radius8 q-py-sm q-px-sm",style:{"background-color":"#17161a",width:"100px","font-size":"12px"},dense:""}),t(m,{onClick:a[5]||(a[5]=l=>e.openWebview("https://be.synxis.com/?adult=1&arrive=2025-01-19&chain=31493&child=0&config=EKO&depart=2025-01-20&level=chain&locale=en-US&rooms=1&theme=EKO")),unelevated:"","text-color":"white",label:"Rooms","no-caps":"",class:"text-weight-600 radius8 q-py-sm q-px-sm",style:{"background-color":"#17161a",width:"100px","font-size":"12px"},dense:""}),t(m,{onClick:a[6]||(a[6]=l=>e.openWebview("https://ekohotelsdelivery.com/haute-table-2/")),unelevated:"","text-color":"white",label:"Haute Table","no-caps":"",class:"text-weight-600 radius8 q-py-sm q-px-sm",style:{"background-color":"#17161a",width:"100px","font-size":"12px"},dense:""})]),t(te,{modelValue:e.webviewOpen,"onUpdate:modelValue":a[7]||(a[7]=l=>e.webviewOpen=l),maximized:""},{default:d(()=>[t(ae,{class:"full-height"},{default:d(()=>[t(G,{class:"bg-dark text-white"},{default:d(()=>[t(m,{flat:"",round:"",dense:"",icon:"close",onClick:e.closeWebview},null,8,["onClick"]),t(re,null,{default:d(()=>[j(u(e.webviewTitle),1)]),_:1})]),_:1}),i("iframe",{src:e.webviewUrl,frameborder:"0",style:{width:"100%",height:"calc(100% - 56px)"}},null,8,be)]),_:1})]),_:1},8,["modelValue"]),i("div",we,[e.DataStore.loading_cuisine?(r(),c("div",ke,[t(y,{type:"text",style:{width:"100px"}}),t(y,{type:"text",style:{width:"50px"}})])):(r(),c("div",qe,[i("div",xe,[i("div",Se,u(s.$t("Explore Cuisine")),1)]),i("div",Ce,[t(m,{flat:"",color:s.$q.dark.mode?"grey300":"secondary",label:s.$t("Show All"),"no-caps":"",class:"text-weight-600",dense:"",onClick:a[8]||(a[8]=l=>this.$refs.browse_cuisine.modal=!this.$refs.browse_cuisine.modal)},null,8,["color","label"])])]))]),t(P,{ref:"cuisine_carousel",design:1,onAfterGetdata:e.afterGetdata,class:"q-pt-sm q-pb-md"},null,8,["onAfterGetdata"]),i("div",Re,[e.DataStore.car_loading[0]?(r(),c("div",De,[t(y,{type:"text",style:{width:"100px"}}),t(y,{type:"text",style:{width:"50px"}})])):(r(),c(D,{key:1},[e.DataStore.hasCarData(0)?(r(),c("div",Ve,[i("div",Ae,[i("div",Pe,u(s.$t("Popular")),1)]),i("div",Qe,[t(m,{to:{name:"feed",query:{query:"featured",featured_id:e.topResto}},flat:"",color:s.$q.dark.mode?"grey300":"secondary",label:s.$t("Show All"),"no-caps":"",class:"text-weight-600",dense:""},null,8,["to","color","label"])])])):B("",!0)],64))]),t(v,{ref:"merchantRefCarousel",list_type:"featured",featured_id:e.topResto,filters:e.DataStore.filters,index:0},null,8,["featured_id","filters"]),i("div",Te,[e.DataStore.car_loading[1]?(r(),c("div",Fe,[t(y,{type:"text",style:{width:"100px"}}),t(y,{type:"text",style:{width:"50px"}})])):(r(),c(D,{key:1},[e.DataStore.hasCarData(1)?(r(),c("div",Le,[i("div",Ee,[i("div",Oe,u(s.$t("Recommended")),1)]),i("div",ze,[t(m,{to:{name:"feed",query:{query:"featured",featured_id:"recommended"}},flat:"",color:s.$q.dark.mode?"grey300":"secondary",label:s.$t("Show All"),"no-caps":"",class:"text-weight-600",dense:""},null,8,["color","label"])])])):B("",!0)],64))]),t(v,{ref:"merchantRefCarousel",list_type:"featured",featured_id:"recommended",filters:e.DataStore.filters,index:1},null,8,["filters"]),t(I,{class:"q-pa-xs"}),t(ne,{modelValue:e.featuredTab,"onUpdate:modelValue":a[9]||(a[9]=l=>e.featuredTab=l),animated:"",class:C({"bg-mydark text-white":s.$q.dark.mode,"bg-white text-black":!s.$q.dark.mode})},{default:d(()=>[(r(!0),c(D,null,se(e.DataStore.featured_data,(l,g)=>(r(),w(ie,{key:l,name:g,label:l,class:"q-pa-sm"},{default:d(()=>[t(Q,{ref_for:!0,ref:"merchantList",list_type:"featured",featured_id:g,filters:e.DataStore.filters,onAfterResults:e.afterResults},null,8,["featured_id","filters","onAfterResults"]),i("div",Be,[e.DataStore.hasFeed?(r(),w(m,{key:0,color:s.$q.dark.mode?"grey300":"secondary",to:{path:"feed",query:{query:"featured",featured_id:g}},unelevated:"","no-caps":"",flat:"",dense:"",label:s.$t("Show All")},null,8,["color","to","label"])):(r(),c("div",{key:1,class:C(["font12 q-pa-md",{"text-grey300":s.$q.dark.mode,"text-dark":!s.$q.dark.mode}])},u(s.$t("No Results")),3))])]),_:2},1032,["name","label"]))),128))]),_:1},8,["modelValue","class"])],64)):(r(),w(f,{key:1,onFilterAgain:e.filterAgain},null,8,["onFilterAgain"])),t(q,{ref:"merchant_filter",cuisine_data:e.DataStore.cuisine,onApplyFilter:e.applyFilter,onRunFilter:e.runFilter},null,8,["cuisine_data","onApplyFilter","onRunFilter"]),t(T,{ref:"browse_cuisine"},null,512)]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var ct=$(pe,[["render",Ie]]);export{ct as default};
