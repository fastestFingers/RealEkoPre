import{u as j,_ as H,l as f,m as G,Q as U,r as n,aW as X,w as S,o as W,av as z,n as _,p as o,q as v,s as c,f as a,U as d,a6 as C,aX as N,as as R,az as E,S as l,a5 as Y,Y as u,X as D,F as A,V as J,t as p}from"./index.f7d559c9.js";import{Q as K}from"./QToolbar.e8bab0fc.js";import{u as Z,a as ee}from"./use-page-sticky.8c791444.js";import{Q as B}from"./QSpace.cb165838.js";import{Q as h}from"./QSkeleton.d808f021.js";import{Q as te,a as ae}from"./QTabPanels.838667d7.js";import{Q as se}from"./QPage.026453a2.js";import{Q as oe}from"./QPullToRefresh.17afb92d.js";import{u as re}from"./DeliverySched.5943bd48.js";import{u as le}from"./PlaceStore.f49eb3bb.js";import"./use-panel.a736ca83.js";import"./touch.49a2039d.js";import"./selection.4a59aca4.js";import"./use-render-cache.27ff0129.js";import"./format.68d15b11.js";var ne=j({name:"QPageSticky",props:Z,setup(t,{slots:s}){const{getStickyContent:b}=ee();return()=>b(s)}});const ie={name:"HomePage",components:{HomeBanner:f(()=>p(()=>import("./HomeBanner.200a4f30.js"),["assets/HomeBanner.200a4f30.js","assets/swiper.min.b39a1361.css","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QSkeleton.d808f021.js","assets/QImg.04a8fde6.js","assets/swiper-slide.4e44b66c.js","assets/CartStore.42bb2db8.js"])),CuisineCarousel:f(()=>p(()=>import("./CuisineCarousel.765f1252.js"),["assets/CuisineCarousel.765f1252.js","assets/CuisineCarousel.82563a46.css","assets/QSkeleton.d808f021.js","assets/index.f7d559c9.js","assets/index.661bbb30.css"])),BrowseCuisine:f(()=>p(()=>import("./BrowseCuisine.49ce8dab.js"),["assets/BrowseCuisine.49ce8dab.js","assets/QToolbarTitle.bdcd688d.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QSpace.cb165838.js","assets/QToolbar.e8bab0fc.js"])),MerchantCarousel:f(()=>p(()=>import("./MerchantCarousel.87f42eb6.js"),["assets/MerchantCarousel.87f42eb6.js","assets/swiper.min.b39a1361.css","assets/QSkeleton.d808f021.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QChip.75be2f9e.js","assets/swiper-slide.4e44b66c.js"])),MerchantList:f(()=>p(()=>import("./MerchantList.08d6f38b.js"),[])),MerchantFilter:f(()=>p(()=>import("./MerchantFilter.502998c0.js"),["assets/MerchantFilter.502998c0.js","assets/QToolbarTitle.bdcd688d.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QSpace.cb165838.js","assets/QToolbar.e8bab0fc.js","assets/QBtnToggle.b8808e61.js","assets/QBtnGroup.73e707aa.js","assets/QPullToRefresh.17afb92d.js","assets/touch.49a2039d.js","assets/selection.4a59aca4.js","assets/format.68d15b11.js","assets/QFooter.2200c75f.js","assets/QResizeObserver.fad9f3e9.js","assets/DeliverySched.5943bd48.js"])),NoResults:f(()=>p(()=>import("./NoResults.8164bd6f.js"),["assets/NoResults.8164bd6f.js","assets/QImg.04a8fde6.js","assets/index.f7d559c9.js","assets/index.661bbb30.css"]))},setup(){const t=G.getStorage("transaction_type"),s=U(),b=n({transaction_type:t}),e=n("popular"),V=n("all"),I=n([]),P=n(""),x=n(1),y=n([]),F=X(),m=n(!0),q=n(void 0),Q=n(null),i=n(null),g=n(null),L=n([]),M=n(!1),w=re();S(()=>w.new_transaction_type,(r,T)=>{console.log("DeliveryschedStore=>"+r),w.filters.transaction_type=r,k(w.filters)}),S(()=>w.main_layout_header,(r,T)=>{M.value=!r});const O=le();S(()=>O.data,(r,T)=>{s.filters.place_id=r.place_id,k(s.filters)}),S(()=>s.list_loading_handle,(r,T)=>{V.value=="all"&&(Object.keys(s.list_data).length>0?m.value=!0:m.value=!1)}),W(()=>{z.authenticated()?L.value=z.getUser():L.value=!1,Object.keys(s.filters).length<=0&&k({transaction_type:t}),Object.keys(s.featured_data).length<=0&&s.getFeaturedList()});const $=r=>{y.value=r},k=r=>{m.value=!0,s.filters=r};return{filters:b,topResto:e,q:P,slide:x,cuisineList:y,afterGetdata:$,applyFilter:k,goSearch:()=>{F.push("/search")},runFilter:()=>{console.debug("runFilter")},merchantList:Q,merchantRefCarousel:i,merchantRefCarousel2:g,featuredTab:V,featured:I,afterResults:r=>{console.log("afterResults =>"+r),m.value=r},hasResult:m,DataStore:s,userData:L,filterAgain:()=>{console.log("filterAgain"),q.value.filter=!0},merchant_filter:q,refresh:r=>{s.getBanner(),s.CuisineList(),s.getFeaturedList(),k({transaction_type:t}),setTimeout(()=>{r()},1e3)},isSticky:M,PlaceStore:O}}},de={class:"text-weight-bold q-ma-none"},ce={key:0,class:"text-secondary"},ue={key:1,class:"text-secondary"},me={class:"text-weight-medium q-ma-none"},fe={class:"q-mt-md"},_e={key:0,class:"row justify-between"},pe={key:1,class:"row"},he={class:"col"},ye={class:"text-h5 text-weight-medium"},ge={class:"col text-right"},ke={class:"q-mt-sm q-mb-xs"},ve={key:0,class:"row justify-between"},be={key:0,class:"row"},qe={class:"col"},we={class:"text-h5 text-weight-medium"},Se={class:"col text-right"},Ce={class:"q-mt-sm q-mb-xs"},Re={key:0,class:"row justify-between"},De={key:0,class:"row"},Ae={class:"col"},Ve={class:"text-h5 text-weight-medium"},Pe={class:"col text-right"},xe={class:"text-center q-pa-sm"};function Fe(t,s,b,e,V,I){const P=_("HomeBanner"),x=_("CuisineCarousel"),y=_("MerchantCarousel"),F=_("MerchantList"),m=_("NoResults"),q=_("MerchantFilter"),Q=_("BrowseCuisine");return o(),v(oe,{onRefresh:e.refresh},{default:c(()=>[a(se,{padding:"",class:C(["q-pl-md q-pr-md",{"flex flex-center":!e.hasResult}])},{default:c(()=>[e.hasResult?(o(),d(A,{key:0},[e.isSticky?(o(),v(ne,{key:0,expand:"",position:"top",class:"z-top"},{default:c(()=>[a(K,{class:C(["text-dark q-pl-md q-pr-md q-pt-sm q-pb-sm",{"bg-mydark":t.$q.dark.mode,"bg-white":!t.$q.dark.mode}])},{default:c(()=>[a(N,{modelValue:e.q,"onUpdate:modelValue":s[1]||(s[1]=i=>e.q=i),label:t.$t("Search desired food and restaurants"),onClick:e.goSearch,readonly:"",outlined:"","lazy-rules":"","bg-color":t.$q.dark.mode?"grey600":"input","label-color":t.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless fit",dense:""},{prepend:c(()=>[a(R,{name:"eva-search-outline",size:"sm"})]),append:c(()=>[a(R,{name:"tune",class:"cursor-pointer",onClick:s[0]||(s[0]=i=>this.$refs.merchant_filter.filter=!0),size:"sm"})]),_:1},8,["modelValue","label","onClick","bg-color","label-color"])]),_:1},8,["class"])]),_:1})):E("",!0),l("h5",de,[Y(u(t.$t("Hello"))+", ",1),e.userData?(o(),d("span",ce,u(e.userData.first_name),1)):(o(),d("span",ue,u(t.$t("Guest")),1))]),l("p",me,u(t.$t("Find your delicious dish")),1),a(B,{class:"q-pa-xs"}),a(N,{modelValue:e.q,"onUpdate:modelValue":s[3]||(s[3]=i=>e.q=i),label:t.$t("Search desired food and restaurants"),onClick:e.goSearch,readonly:"",outlined:"","lazy-rules":"","bg-color":t.$q.dark.mode?"grey600":"input","label-color":t.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless"},{prepend:c(()=>[a(R,{name:"eva-search-outline",size:"sm"})]),append:c(()=>[a(R,{name:"tune",class:"cursor-pointer",onClick:s[2]||(s[2]=i=>this.$refs.merchant_filter.filter=!0),size:"sm"})]),_:1},8,["modelValue","label","onClick","bg-color","label-color"]),a(B,{class:"q-pa-sm"}),a(P,{ref:"home_banner"},null,512),l("div",fe,[e.DataStore.loading_cuisine?(o(),d("div",_e,[a(h,{type:"text",style:{width:"100px"}}),a(h,{type:"text",style:{width:"50px"}})])):(o(),d("div",pe,[l("div",he,[l("div",ye,u(t.$t("Explore Cuisine")),1)]),l("div",ge,[a(D,{flat:"",color:t.$q.dark.mode?"grey300":"secondary",label:t.$t("Show All"),"no-caps":"",class:"text-weight-600",dense:"",onClick:s[4]||(s[4]=i=>this.$refs.browse_cuisine.modal=!this.$refs.browse_cuisine.modal)},null,8,["color","label"])])]))]),a(x,{ref:"cuisine_carousel",design:1,onAfterGetdata:e.afterGetdata,class:"q-pt-sm q-pb-md"},null,8,["onAfterGetdata"]),l("div",ke,[e.DataStore.car_loading[0]?(o(),d("div",ve,[a(h,{type:"text",style:{width:"100px"}}),a(h,{type:"text",style:{width:"50px"}})])):(o(),d(A,{key:1},[e.DataStore.hasCarData(0)?(o(),d("div",be,[l("div",qe,[l("div",we,u(t.$t("Popular")),1)]),l("div",Se,[a(D,{to:{name:"feed",query:{query:"featured",featured_id:e.topResto}},flat:"",color:t.$q.dark.mode?"grey300":"secondary",label:t.$t("Show All"),"no-caps":"",class:"text-weight-600",dense:""},null,8,["to","color","label"])])])):E("",!0)],64))]),a(y,{ref:"merchantRefCarousel",list_type:"featured",featured_id:e.topResto,filters:e.DataStore.filters,index:0},null,8,["featured_id","filters"]),l("div",Ce,[e.DataStore.car_loading[1]?(o(),d("div",Re,[a(h,{type:"text",style:{width:"100px"}}),a(h,{type:"text",style:{width:"50px"}})])):(o(),d(A,{key:1},[e.DataStore.hasCarData(1)?(o(),d("div",De,[l("div",Ae,[l("div",Ve,u(t.$t("Recommended")),1)]),l("div",Pe,[a(D,{to:{name:"feed",query:{query:"featured",featured_id:"recommended"}},flat:"",color:t.$q.dark.mode?"grey300":"secondary",label:t.$t("Show All"),"no-caps":"",class:"text-weight-600",dense:""},null,8,["color","label"])])])):E("",!0)],64))]),a(y,{ref:"merchantRefCarousel",list_type:"featured",featured_id:"recommended",filters:e.DataStore.filters,index:1},null,8,["filters"]),a(B,{class:"q-pa-xs"}),a(te,{modelValue:e.featuredTab,"onUpdate:modelValue":s[5]||(s[5]=i=>e.featuredTab=i),animated:"",class:C({"bg-mydark text-white":t.$q.dark.mode,"bg-white text-black":!t.$q.dark.mode})},{default:c(()=>[(o(!0),d(A,null,J(e.DataStore.featured_data,(i,g)=>(o(),v(ae,{key:i,name:g,label:i,class:"q-pa-sm"},{default:c(()=>[a(F,{ref_for:!0,ref:"merchantList",list_type:"featured",featured_id:g,filters:e.DataStore.filters,onAfterResults:e.afterResults},null,8,["featured_id","filters","onAfterResults"]),l("div",xe,[e.DataStore.hasFeed?(o(),v(D,{key:0,color:t.$q.dark.mode?"grey300":"secondary",to:{path:"feed",query:{query:"featured",featured_id:g}},unelevated:"","no-caps":"",flat:"",dense:"",label:t.$t("Show All")},null,8,["color","to","label"])):(o(),d("div",{key:1,class:C(["font12 q-pa-md",{"text-grey300":t.$q.dark.mode,"text-dark":!t.$q.dark.mode}])},u(t.$t("No Results")),3))])]),_:2},1032,["name","label"]))),128))]),_:1},8,["modelValue","class"])],64)):(o(),v(m,{key:1,onFilterAgain:e.filterAgain},null,8,["onFilterAgain"])),a(q,{ref:"merchant_filter",cuisine_data:e.DataStore.cuisine,onApplyFilter:e.applyFilter,onRunFilter:e.runFilter},null,8,["cuisine_data","onApplyFilter","onRunFilter"]),a(Q,{ref:"browse_cuisine"},null,512)]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var Ze=H(ie,[["render",Fe]]);export{Ze as default};
