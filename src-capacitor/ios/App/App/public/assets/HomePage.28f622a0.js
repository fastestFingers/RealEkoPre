import{u as j,_ as H,l as m,m as $,Q as U,r as i,aW as W,w as x,o as G,av as I,n as f,p as a,q as k,s as c,f as o,U as d,a6 as C,aX as M,as as R,az as L,S as n,a5 as K,Y as u,X as p,F as D,V as X,t as _}from"./index.9a53e84d.js";import{Q as Y}from"./QToolbar.55bf8f13.js";import{u as J,a as Z}from"./use-page-sticky.667f54ca.js";import{Q as T}from"./QSpace.166e5628.js";import{Q as y}from"./QSkeleton.df19fe70.js";import{Q as ee,a as te}from"./QTabPanels.50a1860c.js";import{Q as se}from"./QPage.127087d1.js";import{Q as oe}from"./QPullToRefresh.5b5bf9cd.js";import{u as ae}from"./DeliverySched.0cc022e0.js";import{u as re}from"./PlaceStore.068ddbf8.js";import"./use-panel.c1001a6b.js";import"./touch.9135741d.js";import"./selection.1260671d.js";import"./use-render-cache.3aae9b27.js";import"./format.8ac60962.js";var le=j({name:"QPageSticky",props:J,setup(s,{slots:t}){const{getStickyContent:w}=Z();return()=>w(t)}});const ne={name:"HomePage",components:{HomeBanner:m(()=>_(()=>import("./HomeBanner.3edf0e55.js"),["assets/HomeBanner.3edf0e55.js","assets/swiper.min.b39a1361.css","assets/index.9a53e84d.js","assets/index.661bbb30.css","assets/QSkeleton.df19fe70.js","assets/QImg.28e972cd.js","assets/swiper-slide.582bd902.js","assets/CartStore.50c3f128.js"])),CuisineCarousel:m(()=>_(()=>import("./CuisineCarousel.fd8e4ab8.js"),["assets/CuisineCarousel.fd8e4ab8.js","assets/CuisineCarousel.6c8580b2.css","assets/QSkeleton.df19fe70.js","assets/index.9a53e84d.js","assets/index.661bbb30.css"])),BrowseCuisine:m(()=>_(()=>import("./BrowseCuisine.903c6568.js"),["assets/BrowseCuisine.903c6568.js","assets/QToolbarTitle.56a40b2c.js","assets/index.9a53e84d.js","assets/index.661bbb30.css","assets/QSpace.166e5628.js","assets/QToolbar.55bf8f13.js"])),MerchantCarousel:m(()=>_(()=>import("./MerchantCarousel.dcf6db47.js"),["assets/MerchantCarousel.dcf6db47.js","assets/swiper.min.b39a1361.css","assets/QSkeleton.df19fe70.js","assets/index.9a53e84d.js","assets/index.661bbb30.css","assets/QChip.d19f94df.js","assets/swiper-slide.582bd902.js"])),MerchantList:m(()=>_(()=>import("./MerchantList.3595b257.js"),[])),MerchantFilter:m(()=>_(()=>import("./MerchantFilter.8e7ef1b5.js"),["assets/MerchantFilter.8e7ef1b5.js","assets/QToolbarTitle.56a40b2c.js","assets/index.9a53e84d.js","assets/index.661bbb30.css","assets/QSpace.166e5628.js","assets/QToolbar.55bf8f13.js","assets/QBtnToggle.97e5ae48.js","assets/QBtnGroup.44d9aee9.js","assets/QPullToRefresh.5b5bf9cd.js","assets/touch.9135741d.js","assets/selection.1260671d.js","assets/format.8ac60962.js","assets/QFooter.e91c4010.js","assets/QResizeObserver.1613ad63.js","assets/DeliverySched.0cc022e0.js"])),NoResults:m(()=>_(()=>import("./NoResults.8f8cab13.js"),["assets/NoResults.8f8cab13.js","assets/QImg.28e972cd.js","assets/index.9a53e84d.js","assets/index.661bbb30.css"]))},setup(){const s=$.getStorage("transaction_type"),t=U(),w=i({transaction_type:s}),e=i("popular"),A=i("all"),z=i([]),P=i(""),F=i(1),g=i([]),V=W(),h=i(!0),q=i(void 0),Q=i(null),l=i(null),v=i(null),E=i([]),B=i(!1),S=ae();x(()=>S.new_transaction_type,r=>{console.log("DeliveryschedStore=>"+r),S.filters.transaction_type=r,b(S.filters)}),x(()=>S.main_layout_header,r=>{B.value=!r});const O=re();x(()=>O.data,r=>{t.filters.place_id=r.place_id,b(t.filters)}),x(()=>t.list_loading_handle,()=>{A.value==="all"&&(h.value=Object.keys(t.list_data).length>0)}),G(()=>{I.authenticated()?E.value=I.getUser():E.value=!1,Object.keys(t.filters).length<=0&&b({transaction_type:s}),Object.keys(t.featured_data).length<=0&&t.getFeaturedList()});const N=r=>{g.value=r},b=r=>{h.value=!0,t.filters=r};return{filters:w,topResto:e,q:P,slide:F,cuisineList:g,afterGetdata:N,applyFilter:b,goSearch:()=>{V.push("/search")},runFilter:()=>{console.debug("runFilter")},merchantList:Q,merchantRefCarousel:l,merchantRefCarousel2:v,featuredTab:A,featured:z,afterResults:r=>{console.log("afterResults =>"+r),h.value=r},hasResult:h,DataStore:t,userData:E,filterAgain:()=>{console.log("filterAgain"),q.value.filter=!0},merchant_filter:q,refresh:r=>{t.getBanner(),t.CuisineList(),t.getFeaturedList(),b({transaction_type:s}),setTimeout(()=>{r()},1e3)},isSticky:B,PlaceStore:O,openWebview:r=>{window.open(r,"_blank")}}}},ie={class:"text-weight-bold q-ma-none"},de={key:0,class:"text-secondary"},ce={key:1,class:"text-secondary"},ue={class:"text-weight-medium q-ma-none"},me={class:"q-my-md row items-center justify-center",style:{gap:"12px"}},fe={class:"q-mt-md"},pe={key:0,class:"row justify-between"},_e={key:1,class:"row"},he={class:"col"},ye={class:"text-h5 text-weight-medium"},ge={class:"col text-right"},ve={class:"q-mt-sm q-mb-xs"},be={key:0,class:"row justify-between"},ke={key:0,class:"row"},we={class:"col"},qe={class:"text-h5 text-weight-medium"},Se={class:"col text-right"},xe={class:"q-mt-sm q-mb-xs"},Ce={key:0,class:"row justify-between"},Re={key:0,class:"row"},De={class:"col"},Ae={class:"text-h5 text-weight-medium"},Pe={class:"col text-right"},Fe={class:"text-center q-pa-sm"};function Ve(s,t,w,e,A,z){const P=f("HomeBanner"),F=f("CuisineCarousel"),g=f("MerchantCarousel"),V=f("MerchantList"),h=f("NoResults"),q=f("MerchantFilter"),Q=f("BrowseCuisine");return a(),k(oe,{onRefresh:e.refresh},{default:c(()=>[o(se,{padding:"",class:C(["q-pl-md q-pr-md",{"flex flex-center":!e.hasResult}])},{default:c(()=>[e.hasResult?(a(),d(D,{key:0},[e.isSticky?(a(),k(le,{key:0,expand:"",position:"top",class:"z-top"},{default:c(()=>[o(Y,{class:C(["text-dark q-pl-md q-pr-md q-pt-sm q-pb-sm",{"bg-mydark":s.$q.dark.mode,"bg-white":!s.$q.dark.mode}])},{default:c(()=>[o(M,{modelValue:e.q,"onUpdate:modelValue":t[1]||(t[1]=l=>e.q=l),label:s.$t("Search desired food and restaurants"),onClick:e.goSearch,readonly:"",outlined:"","lazy-rules":"","bg-color":s.$q.dark.mode?"grey600":"input","label-color":s.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless fit",dense:""},{prepend:c(()=>[o(R,{name:"eva-search-outline",size:"sm"})]),append:c(()=>[o(R,{name:"tune",class:"cursor-pointer",onClick:t[0]||(t[0]=l=>this.$refs.merchant_filter.filter=!0),size:"sm"})]),_:1},8,["modelValue","label","onClick","bg-color","label-color"])]),_:1},8,["class"])]),_:1})):L("",!0),n("h5",ie,[K(u(s.$t("Hello"))+", ",1),e.userData?(a(),d("span",de,u(e.userData.first_name),1)):(a(),d("span",ce,u(s.$t("Guest")),1))]),n("p",ue,u(s.$t("Find your delicious dish")),1),o(T,{class:"q-pa-xs"}),o(M,{modelValue:e.q,"onUpdate:modelValue":t[3]||(t[3]=l=>e.q=l),label:s.$t("Search desired food and restaurants"),onClick:e.goSearch,readonly:"",outlined:"","lazy-rules":"","bg-color":s.$q.dark.mode?"grey600":"input","label-color":s.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless"},{prepend:c(()=>[o(R,{name:"eva-search-outline",size:"sm"})]),append:c(()=>[o(R,{name:"tune",class:"cursor-pointer",onClick:t[2]||(t[2]=l=>this.$refs.merchant_filter.filter=!0),size:"sm"})]),_:1},8,["modelValue","label","onClick","bg-color","label-color"]),o(T,{class:"q-pa-sm"}),o(P,{ref:"home_banner"},null,512),n("div",me,[o(p,{onClick:t[4]||(t[4]=l=>e.openWebview("https://laundry.ekohotelsdelivery.com/")),unelevated:"","text-color":"white",label:"Laundry","no-caps":"",class:"text-weight-600 radius8 q-py-sm q-px-sm",style:{"background-color":"#17161a",width:"100px","font-size":"12px"},dense:""}),o(p,{onClick:t[5]||(t[5]=l=>e.openWebview("https://be.synxis.com/?adult=1&arrive=2025-01-19&chain=31493&child=0&config=EKO&depart=2025-01-20&level=chain&locale=en-US&rooms=1&theme=EKO")),unelevated:"","text-color":"white",label:"Rooms","no-caps":"",class:"text-weight-600 radius8 q-py-sm q-px-sm",style:{"background-color":"#17161a",width:"100px","font-size":"12px"},dense:""}),o(p,{onClick:t[6]||(t[6]=l=>e.openWebview("https://ekohotelsdelivery.com/haute-table-2/")),unelevated:"","text-color":"white",label:"Haute Table","no-caps":"",class:"text-weight-600 radius8 q-py-sm q-px-sm",style:{"background-color":"#17161a",width:"100px","font-size":"12px"},dense:""})]),n("div",fe,[e.DataStore.loading_cuisine?(a(),d("div",pe,[o(y,{type:"text",style:{width:"100px"}}),o(y,{type:"text",style:{width:"50px"}})])):(a(),d("div",_e,[n("div",he,[n("div",ye,u(s.$t("Explore Cuisine")),1)]),n("div",ge,[o(p,{flat:"",color:s.$q.dark.mode?"grey300":"secondary",label:s.$t("Show All"),"no-caps":"",class:"text-weight-600",dense:"",onClick:t[7]||(t[7]=l=>this.$refs.browse_cuisine.modal=!this.$refs.browse_cuisine.modal)},null,8,["color","label"])])]))]),o(F,{ref:"cuisine_carousel",design:1,onAfterGetdata:e.afterGetdata,class:"q-pt-sm q-pb-md"},null,8,["onAfterGetdata"]),n("div",ve,[e.DataStore.car_loading[0]?(a(),d("div",be,[o(y,{type:"text",style:{width:"100px"}}),o(y,{type:"text",style:{width:"50px"}})])):(a(),d(D,{key:1},[e.DataStore.hasCarData(0)?(a(),d("div",ke,[n("div",we,[n("div",qe,u(s.$t("Popular")),1)]),n("div",Se,[o(p,{to:{name:"feed",query:{query:"featured",featured_id:e.topResto}},flat:"",color:s.$q.dark.mode?"grey300":"secondary",label:s.$t("Show All"),"no-caps":"",class:"text-weight-600",dense:""},null,8,["to","color","label"])])])):L("",!0)],64))]),o(g,{ref:"merchantRefCarousel",list_type:"featured",featured_id:e.topResto,filters:e.DataStore.filters,index:0},null,8,["featured_id","filters"]),n("div",xe,[e.DataStore.car_loading[1]?(a(),d("div",Ce,[o(y,{type:"text",style:{width:"100px"}}),o(y,{type:"text",style:{width:"50px"}})])):(a(),d(D,{key:1},[e.DataStore.hasCarData(1)?(a(),d("div",Re,[n("div",De,[n("div",Ae,u(s.$t("Recommended")),1)]),n("div",Pe,[o(p,{to:{name:"feed",query:{query:"featured",featured_id:"recommended"}},flat:"",color:s.$q.dark.mode?"grey300":"secondary",label:s.$t("Show All"),"no-caps":"",class:"text-weight-600",dense:""},null,8,["color","label"])])])):L("",!0)],64))]),o(g,{ref:"merchantRefCarousel",list_type:"featured",featured_id:"recommended",filters:e.DataStore.filters,index:1},null,8,["filters"]),o(T,{class:"q-pa-xs"}),o(ee,{modelValue:e.featuredTab,"onUpdate:modelValue":t[8]||(t[8]=l=>e.featuredTab=l),animated:"",class:C({"bg-mydark text-white":s.$q.dark.mode,"bg-white text-black":!s.$q.dark.mode})},{default:c(()=>[(a(!0),d(D,null,X(e.DataStore.featured_data,(l,v)=>(a(),k(te,{key:l,name:v,label:l,class:"q-pa-sm"},{default:c(()=>[o(V,{ref_for:!0,ref:"merchantList",list_type:"featured",featured_id:v,filters:e.DataStore.filters,onAfterResults:e.afterResults},null,8,["featured_id","filters","onAfterResults"]),n("div",Fe,[e.DataStore.hasFeed?(a(),k(p,{key:0,color:s.$q.dark.mode?"grey300":"secondary",to:{path:"feed",query:{query:"featured",featured_id:v}},unelevated:"","no-caps":"",flat:"",dense:"",label:s.$t("Show All")},null,8,["color","to","label"])):(a(),d("div",{key:1,class:C(["font12 q-pa-md",{"text-grey300":s.$q.dark.mode,"text-dark":!s.$q.dark.mode}])},u(s.$t("No Results")),3))])]),_:2},1032,["name","label"]))),128))]),_:1},8,["modelValue","class"])],64)):(a(),k(h,{key:1,onFilterAgain:e.filterAgain},null,8,["onFilterAgain"])),o(q,{ref:"merchant_filter",cuisine_data:e.DataStore.cuisine,onApplyFilter:e.applyFilter,onRunFilter:e.runFilter},null,8,["cuisine_data","onApplyFilter","onRunFilter"]),o(Q,{ref:"browse_cuisine"},null,512)]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var et=H(ne,[["render",Ve]]);export{et as default};
