import{_ as x,l as _,t as l,Q as D,R as k,m,n as u,p as o,U as a,S as i,f as r,Y as h,F as f,V as S,X as A,az as b}from"./index.9793c43f.js";import{Q as P}from"./QInnerLoading.9a29075c.js";import{Q as v}from"./QImg.51839b12.js";import{u as w}from"./MenuStore.ade9d645.js";const C={name:"FavouriteItems",props:["is_done"],components:{FavsItem:_(()=>l(()=>import("./FavsItem.35aa4514.js"),["assets/FavsItem.35aa4514.js","assets/index.9793c43f.js","assets/index.661bbb30.css"])),ItemDetails:_(()=>l(()=>import("./ItemDetails.b898674e.js"),["assets/ItemDetails.b898674e.js","assets/index.9793c43f.js","assets/index.661bbb30.css","assets/QCircularProgress.c3fbe13d.js","assets/format.8ac60962.js","assets/QImg.51839b12.js","assets/QChip.82264df0.js","assets/QBtnToggle.3250107e.js","assets/QBtnGroup.0b2a69a0.js","assets/QSelect.06fcbf11.js","assets/QItemLabel.eca1584d.js","assets/QMenu.e8b690c9.js","assets/selection.f40087f4.js","assets/rtl.276c3f1b.js","assets/QSpace.04e5e530.js","assets/CartStore.e08e1718.js","assets/FavoriteStore.241a6de6.js","assets/DeliverySched.51e51dc1.js"])),ItemDetailsCheckbox:_(()=>l(()=>import("./ItemDetailsCheckbox.ab48015f.js"),["assets/ItemDetailsCheckbox.ab48015f.js","assets/index.9793c43f.js","assets/index.661bbb30.css","assets/QCircularProgress.c3fbe13d.js","assets/format.8ac60962.js","assets/QImg.51839b12.js","assets/QItemLabel.eca1584d.js","assets/QList.f278e53f.js","assets/QSelect.06fcbf11.js","assets/QChip.82264df0.js","assets/QMenu.e8b690c9.js","assets/selection.f40087f4.js","assets/rtl.276c3f1b.js","assets/QSpace.04e5e530.js","assets/QBtnGroup.0b2a69a0.js","assets/ClosePopup.eb5e6d7f.js","assets/CartStore.e08e1718.js","assets/FavoriteStore.241a6de6.js","assets/DeliverySched.51e51dc1.js"]))},data(){return{data:[],data_items:[],loading:!0,slug:"",money_config:[]}},setup(e){const n=w(),g=D(),d=k();return{MenuStore:n,DataStore:g,DataStorePersisted:d}},mounted(){this.getSaveItems()},computed:{hasData(){return this.data.length>0}},watch:{is_done(e,n){this.getSaveItems()}},methods:{getSaveItems(){m.empty(this.is_done)&&(this.loading=!0),m.fetchDataByTokenPost("getSaveItems","currency_code="+this.DataStorePersisted.use_currency_code).then(e=>{this.data=e.details.data,this.data_items=e.details.items,this.money_config=e.details.money_config}).catch(e=>{this.data=[],this.data_items=[]}).then(e=>{this.loading=!1,m.empty(this.is_done)||this.is_done()})},afterSavefav(e,n){e.save_item=n},onClickitem(e){this.slug=e.slug,this.DataStore.addons_use_checkbox?this.$refs.refItem2.showItem2(e,e.slug):this.$refs.refItem.showItem2(e,e.slug)},afterAdditems(){this.$emit("afterAdditems")}}},q={key:0},E={class:"fit q-pa-xl"},F={key:1,class:"flex flex-center q-pt-xl q-pb-xl"},V={class:"text-h5 text-weight-bold line-normal"},L={class:"text-grey font12"},Q={key:2,class:"row items-start q-col-gutter-x-sm q-mb-sm"},B={key:0,class:"col-6"},z={class:"relative-position"},R={class:"absolute-bottom-right q-pa-sm"},T={class:"q-pt-sm q-pb-md"},N={class:"row items-center"},O={class:"col text-subtitle2 line-normal ellipsis"},M={class:"col-3 text-right"};function Y(e,n,g,d,t,c){const p=u("FavsItem"),y=u("ItemDetails"),I=u("ItemDetailsCheckbox");return o(),a(f,null,[t.loading?(o(),a("div",q,[i("div",E,[r(P,{showing:!0,color:"primary",size:"md","label-class":"dark"})])])):!t.loading&&!c.hasData?(o(),a("div",F,[r(v,{src:"cuttery.png",fit:"fill","spinner-color":"primary",style:{height:"160px","max-width":"150px"}}),i("div",V,h(e.$t("You don't have any save items here!")),1),i("p",L,h(e.$t("Let's change that!")),1)])):(o(),a("div",Q,[(o(!0),a(f,null,S(t.data,s=>(o(),a(f,{key:s.item_id},[t.data_items[s.item_id]?(o(),a("div",B,[i("div",z,[r(v,{src:t.data_items[s.item_id].url_image,style:{"max-width":"100%",height:"100px"},"spinner-color":"primary","spinner-size":"sm","placeholder-src":"placeholder.png",class:"radius10"},null,8,["src"]),i("div",R,[r(A,{round:"",color:"dark",icon:"add",unelevated:"",size:"sm",onClick:U=>c.onClickitem({slug:s.restaurant_slug,cat_id:s.cat_id,item_uuid:t.data_items[s.item_id].item_uuid})},null,8,["onClick"])])]),i("div",T,[i("div",N,[i("div",O,h(t.data_items[s.item_id].item_name),1),i("div",M,[r(p,{ref_for:!0,ref:"favs",data:s,layout:3,item_token:t.data_items[s.item_id].item_uuid,cat_id:s.cat_id,active:s.save_item,onAfterSavefav:c.afterSavefav},null,8,["data","item_token","cat_id","active","onAfterSavefav"])])])])])):b("",!0)],64))),128))])),r(y,{ref:"refItem",slug:t.slug,money_config:t.money_config,currency_code:d.DataStorePersisted.use_currency_code,onAfterAdditems:c.afterAdditems},null,8,["slug","money_config","currency_code","onAfterAdditems"]),r(I,{ref:"refItem2",slug:t.slug,money_config:t.money_config,currency_code:d.DataStorePersisted.use_currency_code,onAfterAdditems:c.afterAdditems},null,8,["slug","money_config","currency_code","onAfterAdditems"])],64)}var J=x(C,[["render",Y]]);export{J as default};
