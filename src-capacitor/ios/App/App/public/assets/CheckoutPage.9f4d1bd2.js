import{H as K,m as d,bA as Z,ay as $,t as u,_ as ee,l as g,Q as te,R as ae,n as y,p as o,U as c,f as a,s as r,q as m,a6 as P,az as _,F as S,X as v,a5 as f,Y as s,S as i,as as k,ab as A,ac as p,ad as q,bz as re,V as z,aX as oe}from"./index.f7d559c9.js";import{Q as ne}from"./QToolbarTitle.bdcd688d.js";import{Q as se}from"./QToolbar.e8bab0fc.js";import{Q as le}from"./QHeader.26b1a527.js";import{Q as I}from"./QInnerLoading.a0b48d07.js";import{Q as L}from"./QImg.04a8fde6.js";import{Q as w}from"./QItemLabel.4e494c2c.js";import{Q as D}from"./QList.559a09ed.js";import{Q as ie}from"./QExpansionItem.c0e01ee3.js";import{Q as x}from"./QSkeleton.d808f021.js";import{Q as de}from"./QSpace.cb165838.js";import{Q as ce}from"./QPage.026453a2.js";import{Q as me}from"./QPullToRefresh.17afb92d.js";import{Q as _e}from"./QFooter.2200c75f.js";import{u as pe}from"./CartStore.42bb2db8.js";import{u as he}from"./PromoStore.cc8e83ea.js";import{u as fe}from"./PaymentStore.8e3a58e8.js";import{u as ye}from"./DeliverySched.5943bd48.js";import"./QResizeObserver.fad9f3e9.js";import"./QSlideTransition.b256130c.js";import"./touch.49a2039d.js";import"./selection.4a59aca4.js";import"./format.68d15b11.js";const ue=K("maps_store",{state:()=>({loading:!1,maps_config:[],marker_position:[]}),actions:{getMapconfig(){this.loading=!0,d.getMapconfig().then(t=>{this.maps_config=Z(t.details),this.marker_position={lat:parseFloat(this.maps_config.default_lat),lng:parseFloat(this.maps_config.default_lng)}}).catch(t=>{}).then(t=>{this.loading=!1})}}}),ge=$("Browser",{web:()=>u(()=>import("./web.d0d44247.js"),["assets/web.d0d44247.js","assets/index.f7d559c9.js","assets/index.661bbb30.css"]).then(t=>new t.BrowserWeb)}),Ce={name:"CheckoutPage",components:{CartDetails:g(()=>u(()=>import("./CartDetails.48029dbb.js"),["assets/CartDetails.48029dbb.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QSkeleton.d808f021.js","assets/QList.559a09ed.js","assets/QImg.04a8fde6.js","assets/QItemLabel.4e494c2c.js","assets/QSlideItem.23fa1a47.js","assets/QPullToRefresh.17afb92d.js","assets/touch.49a2039d.js","assets/selection.4a59aca4.js","assets/format.68d15b11.js","assets/use-render-cache.27ff0129.js","assets/CartStore.42bb2db8.js"])),ClientAddress:g(()=>u(()=>import("./ClientAddress.1b7ddaae.js"),["assets/ClientAddress.1b7ddaae.js","assets/QToolbarTitle.bdcd688d.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QSpace.cb165838.js","assets/QToolbar.e8bab0fc.js","assets/QInnerLoading.a0b48d07.js","assets/QItemLabel.4e494c2c.js","assets/QList.559a09ed.js","assets/ClientStore.49fbb531.js"])),ChangePhone:g(()=>u(()=>import("./ChangePhone.95b63e14.js"),["assets/ChangePhone.95b63e14.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QToolbarTitle.bdcd688d.js","assets/QSpace.cb165838.js","assets/QToolbar.e8bab0fc.js","assets/QSelect.f548dfe7.js","assets/QChip.75be2f9e.js","assets/QItemLabel.4e494c2c.js","assets/QMenu.3887798d.js","assets/selection.4a59aca4.js","assets/rtl.0d66ec23.js","assets/format.68d15b11.js","assets/QForm.31a2e1e6.js"])),DeliverySched:g(()=>u(()=>import("./DeliverySched.bf8130d1.js"),["assets/DeliverySched.bf8130d1.js","assets/QBtnToggle.b8808e61.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QBtnGroup.73e707aa.js","assets/QSelect.f548dfe7.js","assets/QChip.75be2f9e.js","assets/QItemLabel.4e494c2c.js","assets/QMenu.3887798d.js","assets/selection.4a59aca4.js","assets/rtl.0d66ec23.js","assets/format.68d15b11.js","assets/DeliverySched.5943bd48.js"])),PromoList:g(()=>u(()=>import("./PromoList.38fb6fdc.js"),["assets/PromoList.38fb6fdc.js","assets/QToolbarTitle.bdcd688d.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QSpace.cb165838.js","assets/QToolbar.e8bab0fc.js","assets/QForm.31a2e1e6.js","assets/QItemLabel.4e494c2c.js","assets/QList.559a09ed.js","assets/PromoStore.cc8e83ea.js"])),TipsList:g(()=>u(()=>import("./TipsList.aedde86e.js"),["assets/TipsList.aedde86e.js","assets/QBtnToggle.b8808e61.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QBtnGroup.73e707aa.js","assets/QToolbarTitle.bdcd688d.js","assets/QSpace.cb165838.js","assets/QToolbar.e8bab0fc.js","assets/QForm.31a2e1e6.js"])),CheckoutBooking:g(()=>u(()=>import("./CheckoutBooking.942a60be.js"),["assets/CheckoutBooking.942a60be.js","assets/QCircularProgress.ea9c9417.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/format.68d15b11.js","assets/QBtnGroup.73e707aa.js","assets/QSelect.f548dfe7.js","assets/QChip.75be2f9e.js","assets/QItemLabel.4e494c2c.js","assets/QMenu.3887798d.js","assets/selection.4a59aca4.js","assets/rtl.0d66ec23.js","assets/MenuStore.aea32adc.js"])),PaymentListSaved:g(()=>u(()=>import("./PaymentListSaved.bd2ee3a6.js"),["assets/PaymentListSaved.bd2ee3a6.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QImg.04a8fde6.js","assets/QItemLabel.4e494c2c.js","assets/QList.559a09ed.js","assets/PaymentStore.8e3a58e8.js"])),PointsCart:g(()=>u(()=>import("./PointsCart.7a0ea676.js"),["assets/PointsCart.7a0ea676.js","assets/QInnerLoading.a0b48d07.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QItemLabel.4e494c2c.js","assets/QList.559a09ed.js","assets/QToolbarTitle.bdcd688d.js","assets/QSpace.cb165838.js","assets/QToolbar.e8bab0fc.js","assets/QLinearProgress.78b058fb.js","assets/QTab.2774143b.js","assets/QTabs.88ca09f5.js","assets/QResizeObserver.fad9f3e9.js","assets/rtl.0d66ec23.js","assets/QForm.31a2e1e6.js"])),StripeComponents:g(()=>u(()=>import("./StripeComponents.3d975e4d.js"),["assets/StripeComponents.3d975e4d.js","assets/QSpace.cb165838.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QToolbar.e8bab0fc.js","assets/QInnerLoading.a0b48d07.js","assets/QForm.31a2e1e6.js"])),PaypalComponents:g(()=>u(()=>import("./PaypalComponents.8a9b59e1.js"),["assets/PaypalComponents.8a9b59e1.js","assets/QSpace.cb165838.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QToolbar.e8bab0fc.js","assets/ClosePopup.db1c9371.js","assets/index.1b1ee048.js"])),RazorpayComponents:g(()=>u(()=>import("./RazorpayComponents.f9dc079c.js"),["assets/RazorpayComponents.f9dc079c.js","assets/QSpace.cb165838.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QToolbar.e8bab0fc.js","assets/index.1b1ee048.js"])),MercadopagoComponents:g(()=>u(()=>import("./MercadopagoComponents.e9e50c6e.js"),["assets/MercadopagoComponents.e9e50c6e.js","assets/QSpace.cb165838.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QToolbar.e8bab0fc.js","assets/QSelect.f548dfe7.js","assets/QChip.75be2f9e.js","assets/QItemLabel.4e494c2c.js","assets/QMenu.3887798d.js","assets/selection.4a59aca4.js","assets/rtl.0d66ec23.js","assets/format.68d15b11.js","assets/QForm.31a2e1e6.js","assets/ClosePopup.db1c9371.js","assets/index.1b1ee048.js"])),ComponentsRealtime:g(()=>u(()=>import("./ComponentsRealtime.1a7fe2fc.js"),["assets/ComponentsRealtime.1a7fe2fc.js","assets/index.1b1ee048.js","assets/index.f7d559c9.js","assets/index.661bbb30.css"])),WalletComponents:g(()=>u(()=>import("./WalletComponents.320a3649.js"),["assets/WalletComponents.320a3649.js","assets/index.f7d559c9.js","assets/index.661bbb30.css","assets/QItemLabel.4e494c2c.js","assets/QList.559a09ed.js","assets/QInnerLoading.a0b48d07.js","assets/CartStore.42bb2db8.js"]))},setup(){const t=pe(),n=he(),b=ue(),e=te(),C=fe(),l=ye(),R=ae();return{CartStore:t,PromoStore:n,MapsStore:b,DataStore:e,PaymentStore:C,DeliveryschedStore:l,DataStorePersisted:R}},data(){return{include_utensils:!1,modal_paymentlist:!1,payment_credentials:[],payment_uuid:"",payload:["items","merchant_info","service_fee","delivery_fee","packaging","tax","tips","checkout","discount","distance_local","summary","subtotal","total","items_count","check_opening","transaction_info","card_fee","points","points_discount"],loading:!1,loading_promo_rm:!1,loading_tip_rm:!1,tips_list:[],payment_change:0,wallet_data:[]}},created(){this.CartStore.getCart(!0,this.payload);const t=d.getStorage("include_utensils");d.empty(t)||(this.include_utensils=t),this.DeliveryschedStore.getDeliverySched(d.getStorage("cart_uuid"),d.getStorage("merchant_slug"))},mounted(){this.loadTips()},computed:{getUseCurrency(){return this.DataStorePersisted.getUseCurrency()},hasAddress(){return Object.keys(this.CartStore.address_component).length>0},getMerchantUUID(){return Object.keys(this.CartStore.cart_merchant).length>0?this.CartStore.cart_merchant.merchant_uuid:!1}},methods:{refresh(t){this.CartStore.getCart(!0,this.payload),setTimeout(()=>{t()},1e3)},setUtensil(t){d.setStorage("include_utensils",t)},afterSetplaceid(){console.log("afterSetplaceid"),this.CartStore.getCart(!1,this.payload)},fillAddress(t){this.$refs.client_address.showModal(!1),this.$refs.address_details.location_data=t,this.$refs.address_details.showModal()},afterSaveaddress(){this.CartStore.getCart(!1,this.payload)},afterSavetrans(){this.afterSaveaddress()},afterChangephone(t){this.CartStore.getCart(!1,this.payload)},afterApplypromo(){this.CartStore.getCart(!1,this.payload)},afterRemovepromo(){this.CartStore.getCart(!1,this.payload)},afterApplytips(){console.log("afterApplytips"),this.CartStore.getCart(!1,this.payload)},setPaymentcredentials(t){console.log("setPaymentcredentials"),this.payment_credentials=t},afterLoadpaymentlist(t){t?this.payment_credentials=t:this.payment_credentials=[]},setPaymentuuid(t){this.payment_uuid=t},setPayment(t){},setDefault(t){d.showLoadingBox("",this.$q),d.setDefaultPayment(t).then(n=>{this.CartStore.getCart(!1,this.payload)}).catch(n=>{d.notify("red-5",n,"error_outline",this.$q)}).then(n=>{d.hideLoadingBox(this.$q)})},onchoosePayment(t){try{this.$refs[t.payment_code].showPaymentForm()}catch(n){d.notify("dark",n,"error",this.$q)}},afterAddpayment(){this.modal_paymentlist=!1},afterPayment(t){this.CartStore.getCart(!0,this.payload),this.$router.push({path:"/order/successful",query:{order_uuid:t.order_uuid}})},onPlaceorder(){const t={cart_uuid:d.getStorage("cart_uuid"),local_id:d.getStorage("place_id"),include_utensils:this.include_utensils,payment_uuid:this.payment_uuid,currency_code:this.DataStorePersisted.getUseCurrency(),payment_change:this.payment_change,guest_number:this.$refs.checkout_booking?this.$refs.checkout_booking.guest_number:"",room_uuid:this.$refs.checkout_booking?this.$refs.checkout_booking.room_uuid:"",table_uuid:this.$refs.checkout_booking?this.$refs.checkout_booking.table_uuid:"",use_digital_wallet:this.$refs.digital_wallet?this.$refs.digital_wallet.use_wallet:""};this.loading=!0,d.PlaceOrder(t).then(n=>{n.details.payment_instructions.method==="offline"?(this.CartStore.getCart(!0,this.payload),this.$router.replace({path:"/order/successful",query:{order_uuid:n.details.order_uuid}})):this.doPayment(n.details)}).catch(n=>{d.notify("dark",n,"error",this.$q)}).then(n=>{this.loading=!1})},doPayment(t){try{this.$refs[t.payment_code].PaymentRender(t)}catch{this.PaymentRender(t)}},async PaymentRender(t){let n=t.payment_url;this.$q.capacitor?await ge.open({url:n}):window.open(n)},transactionText(t){if(t==="delivery")return"Delivery to";if(t==="pickup")return"Pickup to";if(t==="dinein")return"Go to"},removePromo(t,n){this.loading_promo_rm=!0;const b={cart_uuid:d.getStorage("cart_uuid"),promo_id:n.promo_id,promo_type:n.promo_type};d.removePromo(b).then(e=>{this.PromoStore.promo_selected[t]=[],this.CartStore.getCart(!1,this.payload)}).catch(e=>{d.notify("dark",e,"error",this.$q)}).then(e=>{this.loading_promo_rm=!1})},removeTips(){this.loading_tip_rm=!0,d.fetchDataPost("removeTips","cart_uuid="+d.getStorage("cart_uuid")).then(t=>{this.CartStore.getCart(!1,this.payload)}).catch(t=>{}).then(t=>{this.loading_tip_rm=!1})},loadTips(){d.fetchDataPost("loadTips","cart_uuid="+d.getStorage("cart_uuid")+"&currency_code="+this.DataStorePersisted.getUseCurrency()).then(t=>{this.tips_list=t.details.data}).catch(t=>{}).then(t=>{})},afterApplypoints(){console.log("afterApplypoints"),this.CartStore.getCart(!1,this.payload)},afterRemoveitem(){console.log("afterRemoveitem"),this.$refs.cart_points.getCartpoints()},afterReceive(t){console.log("afterReceive"),console.log(t);let n=JSON.parse(t.message);console.log(n),d.fetchDataPost("validateCartItems","item_id="+n.item_id+"&cart_uuid="+d.getStorage("cart_uuid")).then(b=>{this.$q.dialog({title:this.$t("Items"),message:b.msg,persistent:!0}).onOk(()=>{this.CartStore.getCart(!0,this.payload)}).onCancel(()=>{}).onDismiss(()=>{})}).catch(b=>{}).then(b=>{})},afterApplywallet(t){this.wallet_data=t}}},Se={key:1,class:"text-center full-width"},ve={class:"text-h5 text-weight-bold"},be={class:"text-grey font12"},ke={class:"q-pl-md q-pr-md q-mb-sm"},Ae={class:"text-h6 text-weight-boldx line-normal"},Pe={class:"row q-gutter-sm"},qe={class:"col-8"},we={class:"font13 text-weight-bold"},De=f(" , "),Re={class:"text-capitalize"},xe={key:0,class:"font13 text-weight-light text-weight-medium"},ze={key:1,class:"font13 text-weight-light"},Ie={class:"font11 text-weight-light ellipsis"},Le={key:0,class:"q-pl-md q-pr-md"},Ee={class:"q-pl-md q-pr-md q-mb-sm ellipsis font13 text-weight-bold q-pt-xs"},Qe={class:"text-capitalize"},Te={class:"row justify-end"},Ve={class:"q-pl-sm"},Oe={class:"q-pl-md q-pr-md q-mb-sm font13 text-weight-bold q-pt-xs"},Me={key:2,class:"q-pl-md q-pr-md row q-gutter-sm items-center"},Ue={class:"col-2"},Be={class:"col"},Fe={class:"col-3"},je={class:"q-pl-md q-pr-md q-mt-sm ellipsis font13 text-weight-bold q-pt-xs border-grey-top"},Ne={key:5,class:"q-pl-md q-pr-md q-mb-sm q-pt-xs"},We={class:"row items-center q-mb-sm justify-between"},Ye={class:"font13 text-weight-bold"},He={key:6,class:"q-pl-md q-pr-md q-pt-xs border-grey-top"},Xe={class:"row items-center"},Ge={class:"q-mr-sm font12"},Je={class:"font12 q-mt-xs"},Ke={class:"q-pl-md q-pr-md q-mt-sm q-pt-xs border-grey-top"},Ze={class:"row items-center justify-between"},$e={class:"font13 text-weight-bold"},et={class:"q-pl-md q-pr-md q-pt-xs"},tt={class:"row items-center justify-between fit"},at={class:"text-weight-bold font17"},rt={key:0,class:"text-weight-bold font16"};function ot(t,n,b,e,C,l){const R=y("CheckoutBooking"),E=y("CartDetails"),Q=y("DIV"),T=y("PointsCart"),V=y("TipsList"),O=y("WalletComponents"),M=y("PaymentListSaved"),U=y("DeliverySched"),B=y("ChangePhone"),F=y("ClientAddress"),j=y("PromoList"),N=y("StripeComponents"),W=y("PaypalComponents"),Y=y("RazorpayComponents"),H=y("MercadopagoComponents"),X=y("RedsysComponents"),G=y("ComponentsRealtime");return o(),c(S,null,[a(me,{onRefresh:l.refresh},{default:r(()=>[a(le,{reveal:"","reveal-offset":"10",class:P({"bg-mydark text-white":t.$q.dark.mode,"bg-white text-black":!t.$q.dark.mode})},{default:r(()=>[a(se,null,{default:r(()=>[a(v,{onClick:n[0]||(n[0]=h=>t.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",class:"q-mr-sm",color:t.$q.dark.mode?"white":"dark"},null,8,["color"]),a(ne,{class:"text-weight-bold"},{default:r(()=>[f(s(t.$t("Order Confirmation")),1)]),_:1})]),_:1})]),_:1},8,["class"]),a(ce,{class:P({"flex flex-center":!e.CartStore.hasItem&&!e.CartStore.cart_loading})},{default:r(()=>[e.CartStore.cart_loading?(o(),m(I,{key:0,showing:!0,color:"primary",size:"md","label-class":"dark"})):!e.CartStore.hasItem&&!e.CartStore.cart_loading?(o(),c("div",Se,[a(L,{src:"cart-empty.png",fit:"fill","spinner-color":"primary",style:{height:"80px","max-width":"80px"}}),i("div",ve,s(t.$t("Your cart is empty")),1),i("p",be,s(t.$t("You don't have any orders here! let's change that!")),1)])):(o(),c(S,{key:2},[i("div",ke,[a(v,{"no-caps":"",unelevated:"",flat:"",class:"q-pa-none",to:{name:"menu",params:{slug:e.CartStore.cart_merchant.slug}}},{default:r(()=>[i("div",Ae,s(e.CartStore.cart_merchant.restaurant_name),1),a(k,{name:"las la-angle-right",color:"grey",size:"15px"})]),_:1},8,["to"]),i("div",Pe,[a(L,{src:e.CartStore.cart_merchant.logo,lazy:"",fit:"cover",style:{height:"70px",width:"70px"},class:"radius8","spinner-color":"amber","spinner-size":"sm"},null,8,["src"]),i("div",qe,[i("div",we,[e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type]?(o(),c(S,{key:0},[f(s(e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type].service_name),1)],64)):(o(),c(S,{key:1},[f(s(e.CartStore.transaction_info.transaction_type),1)],64)),De,i("span",Re,s(e.CartStore.transaction_info.whento_deliver)+",",1)]),e.CartStore.transaction_info.whento_deliver=="schedule"?(o(),c("div",xe,s(e.CartStore.transaction_info.delivery_date_pretty)+" "+s(e.CartStore.transaction_info.delivery_time.pretty_time),1)):(o(),c("div",ze,[e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type]?(o(),c(S,{key:0},[f(s(e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type].service_name)+" "+s(t.$t("in"))+" "+s(e.CartStore.transaction_info.estimation)+", "+s(t.$t("mins")),1)],64)):_("",!0)])),i("div",Ie,s(e.CartStore.cart_merchant.address),1),a(v,{flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change order settings"),dense:"",size:"md",class:"q-pt-none",onClick:n[1]||(n[1]=h=>this.$refs.delivery_sched.showSched(!0))},null,8,["color","label"])])])]),!e.CartStore.canProceed&&!e.CartStore.cart_loading?(o(),c("div",Le,[i("div",{class:P(["q-pa-md radius8 font12",{"bg-grey600 text-grey300":t.$q.dark.mode,"bg-yellow text-dark":!t.$q.dark.mode}]),style:{bottom:"51px"}},s(e.CartStore.getErrorMsg),3)])):_("",!0),i("div",Ee,[i("span",Qe,s(e.CartStore.transaction_info.transaction_type),1),f(" "+s(t.$t("Details")),1)]),a(D,{dense:""},{default:r(()=>[a(A,null,{default:r(()=>[a(p,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(k,{name:"las la-phone",size:"23px"})]),_:1})]),_:1}),a(p,null,{default:r(()=>[e.CartStore.phone_details.default_prefix?(o(),c(S,{key:0},[f(" ("+s(e.CartStore.phone_details.default_prefix)+") ",1)],64)):_("",!0),f(" "+s(e.CartStore.phone_details.contact_number),1)]),_:1}),a(p,{side:""},{default:r(()=>[a(v,{onClick:n[2]||(n[2]=h=>this.$refs.change_phone.showModal(!0)),flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change"),dense:"",size:"md"},null,8,["color","label"])]),_:1})]),_:1}),e.CartStore.transaction_info.transaction_type=="delivery"?(o(),m(A,{key:0},{default:r(()=>[a(p,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(k,{name:"las la-map-marker-alt",size:"23px"})]),_:1})]),_:1}),a(p,null,{default:r(()=>[a(w,{lines:"2"},{default:r(()=>[l.hasAddress?(o(),c(S,{key:1},[f(s(e.CartStore.address_component.formatted_address),1)],64)):(o(),c(S,{key:0},[f(s(t.$t("Select your address")),1)],64))]),_:1})]),_:1}),a(p,{side:""},{default:r(()=>[a(v,{flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change"),dense:"",size:"md",onClick:n[3]||(n[3]=h=>this.$refs.client_address.showModal(!0))},null,8,["color","label"])]),_:1})]),_:1})):(o(),m(A,{key:1},{default:r(()=>[a(p,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(k,{name:"las la-utensils",size:"23px"})]),_:1})]),_:1}),a(p,null,{default:r(()=>[a(w,{lines:"2"},{default:r(()=>[f(s(e.CartStore.cart_merchant.address),1)]),_:1})]),_:1}),a(p,{side:""},{default:r(()=>[e.CartStore.transaction_info.transaction_type=="delivery"?(o(),m(v,{key:0,flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change"),dense:"",size:"md"},null,8,["color","label"])):_("",!0)]),_:1})]),_:1})),e.DataStore.enabled_include_utensils?(o(),m(A,{key:2},{default:r(()=>[a(p,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(k,{name:"las la-utensils",size:"23px"})]),_:1})]),_:1}),a(p,null,{default:r(()=>[a(w,null,{default:r(()=>[f(s(t.$t("Cutlery")),1)]),_:1}),a(w,{caption:""},{default:r(()=>[f(s(t.$t("Include utensils, napkins, etc.")),1)]),_:1})]),_:1}),a(p,{side:""},{default:r(()=>[a(re,{modelValue:C.include_utensils,"onUpdate:modelValue":[n[4]||(n[4]=h=>C.include_utensils=h),l.setUtensil]},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})):_("",!0)]),_:1}),e.CartStore.transaction_info.transaction_type=="dinein"?(o(),m(R,{key:1,ref:"checkout_booking",transaction_type:e.CartStore.transaction_info.transaction_type},null,8,["transaction_type"])):_("",!0),a(D,{bordered:""},{default:r(()=>[a(ie,{"expand-separator":"",label:t.$t("Order Details"),class:"text-weight-boldx",caption:e.CartStore.items_count>0?`${e.CartStore.items_count} `+t.$t("Items"):`${e.CartStore.items_count} `+t.$t("item")},{default:r(()=>[a(E,{ref:"cart_details",is_checkout:!1,payload:C.payload,onAfterRemoveitem:l.afterRemoveitem},null,8,["payload","onAfterRemoveitem"]),e.CartStore.hasItem?(o(),m(Q,{key:0,class:"q-pl-md q-pr-md border-grey-top"},{default:r(()=>[i("div",Te,[a(v,{unelevated:"",color:t.$q.dark.mode?"grey600":"mygrey","text-color":t.$q.dark.mode?"grey300":"dark","no-caps":"",size:"md",class:"radius8 q-mt-sm q-mb-md",to:{name:"menu",params:{slug:e.CartStore.cart_merchant.slug}}},{default:r(()=>[a(k,{name:"las la-plus",size:"15px"}),i("div",Ve,s(t.$t("Add more items")),1)]),_:1},8,["color","text-color","to"])])]),_:1})):_("",!0)]),_:1},8,["label","caption"])]),_:1}),i("div",Oe,s(t.$t("Discount")),1),e.PromoStore.loading?(o(),c("div",Me,[i("div",Ue,[a(x,{type:"QCheckbox"})]),i("div",Be,[a(x,{type:"rect"})]),i("div",Fe,[a(x,{type:"rect"})])])):(o(),m(D,{key:3,class:"q-mb-sm"},{default:r(()=>[a(A,null,{default:r(()=>[a(p,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(k,{name:"local_offer",size:"21px"})]),_:1})]),_:1}),a(p,null,{default:r(()=>[e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id]&&e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id].promo_id?(o(),c("span",{key:0,class:P(["",{"text-grey300":t.$q.dark.mode,"text-grey-8":!t.$q.dark.mode}])},s(e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id].savings),3)):(o(),c(S,{key:1},[f(s(t.$t("Add a promo")),1)],64))]),_:1}),a(p,{side:""},{default:r(()=>[e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id]&&e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id].promo_id?(o(),m(v,{key:0,onClick:n[5]||(n[5]=h=>l.removePromo(e.CartStore.cart_merchant.merchant_id,e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id])),loading:C.loading_promo_rm,flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:"Remove",dense:"",size:"md"},null,8,["loading","color"])):(o(),m(v,{key:1,onClick:n[6]||(n[6]=h=>this.$refs.promo_list.showModal(!0)),flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Add"),dense:"",size:"md"},null,8,["color","label"]))]),_:1})]),_:1})]),_:1})),e.DataStore.points_enabled&&e.CartStore.points_data.points_activated?(o(),m(T,{key:4,ref:"cart_points",currency_code:l.getUseCurrency,onAfterApplypoints:l.afterApplypoints,use_thresholds:e.DataStore.use_thresholds},null,8,["currency_code","onAfterApplypoints","use_thresholds"])):_("",!0),i("div",je,s(t.$t("Summary")),1),a(D,{dense:"",class:"text-grey qlist-min-height text-weight-medium"},{default:r(()=>[(o(!0),c(S,null,z(e.CartStore.cart_summary,h=>(o(),c(S,{key:h},[h.type=="total"?(o(),m(A,{key:0,class:"text-weight-bold font16 text-dark hidden"},{default:r(()=>[a(p,null,{default:r(()=>[f(s(h.name),1)]),_:2},1024),a(p,{side:""},{default:r(()=>[f(s(h.value),1)]),_:2},1024)]),_:2},1024)):(o(),m(A,{key:1},{default:r(()=>[a(p,null,{default:r(()=>[f(s(h.name),1)]),_:2},1024),a(p,{side:""},{default:r(()=>[f(s(h.value),1)]),_:2},1024)]),_:2},1024))],64))),128))]),_:1}),e.DataStore.tips_data&&!e.CartStore.cart_loading&&e.CartStore.enabled_tip==1?(o(),c("div",Ne,[i("div",We,[i("div",Ye,s(t.$t("Tips")),1),e.CartStore.tips_data.tips>0?(o(),m(v,{key:0,flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Remove tips"),dense:"",size:"md",onClick:l.removeTips,loading:C.loading_tip_rm},null,8,["color","label","onClick","loading"])):_("",!0)]),e.CartStore.enabled_tip==1?(o(),m(V,{key:0,ref:"tips",onAfterApplytips:l.afterApplytips,tips_data:C.tips_list,tips_value:e.CartStore.tips_data},null,8,["onAfterApplytips","tips_data","tips_value"])):_("",!0)])):_("",!0),!e.CartStore.cart_loading&&e.CartStore.points_data.points_enabled&&e.CartStore.points_data.points_activated&&e.CartStore.points_data.points_to_earn>0?(o(),c("div",He,[i("div",Xe,[i("div",Ge,[a(k,{name:"card_giftcard",class:"font16 text-primary"})]),i("div",null,[i("div",Je,s(e.CartStore.points_data.points_label),1)])])])):_("",!0),i("div",Ke,[i("div",Ze,[i("div",$e,s(t.$t("Payment")),1),a(v,{flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Add"),dense:"",size:"md",to:"/account/payments/new?redirect=/checkout"},null,8,["color","label"])])]),e.DataStore.digitalwallet_enabled?(o(),m(O,{key:7,ref:"digital_wallet",cart_updated:e.CartStore.cart_reloading,onAfterApplywallet:l.afterApplywallet},null,8,["cart_updated","onAfterApplywallet"])):_("",!0),e.CartStore.cart_merchant.merchant_id?(o(),m(M,{key:8,ref:"saved_payment",onSetPaymentuuid:l.setPaymentuuid,onSetPayment:l.setPayment,onAfterLoadpaymentlist:l.afterLoadpaymentlist,merchant_id:e.CartStore.cart_merchant.merchant_id,wallet_data:C.wallet_data},null,8,["onSetPaymentuuid","onSetPayment","onAfterLoadpaymentlist","merchant_id","wallet_data"])):_("",!0),i("div",et,[(o(!0),c(S,null,z(e.PaymentStore.getPaymentList,h=>(o(),c(S,{key:h},[h.payment_uuid==C.payment_uuid&&h.attr_required==1?(o(),m(oe,{key:0,modelValue:C.payment_change,"onUpdate:modelValue":n[7]||(n[7]=J=>C.payment_change=J),type:"number",label:t.$t("Change for how much?"),outlined:"","bg-color":t.$q.dark.mode?"grey600":"input","label-color":t.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless"},null,8,["modelValue","label","bg-color","label-color"])):_("",!0)],64))),128))]),a(de,{class:"q-pa-md"})],64))]),_:1},8,["class"])]),_:1},8,["onRefresh"]),a(I,{showing:e.CartStore.cart_reloading,color:"primary",size:"md","label-class":"dark"},null,8,["showing"]),e.CartStore.items_count>0&&!e.CartStore.cart_loading?(o(),m(_e,{key:0,reveal:"",class:P(["q-pl-md q-pr-md q-pb-sm q-pt-sm text-dark",{"bg-primary":!e.CartStore.cart_reloading,"bg-grey-5":e.CartStore.cart_reloading}])},{default:r(()=>[a(v,{onClick:l.onPlaceorder,loading:C.loading,disable:!e.CartStore.canProceed,unelevated:"","text-color":"white","no-caps":"",class:"radius10 fit",color:{primary:!e.CartStore.cart_reloading,"grey-5":e.CartStore.cart_reloading}},{default:r(()=>[i("div",tt,[i("div",at,s(t.$t("Place Order")),1),e.CartStore.cart_total?(o(),c("div",rt,s(e.CartStore.cart_total.value),1)):_("",!0)])]),_:1},8,["onClick","loading","disable","color"])]),_:1},8,["class"])):_("",!0),a(U,{ref:"delivery_sched",slug:e.CartStore.cart_merchant.slug,onAfterSavetrans:l.afterSavetrans},null,8,["slug","onAfterSavetrans"]),a(B,{ref:"change_phone",onAfterChangephone:l.afterChangephone,prefixes:e.DataStore.phone_prefix_data,phone_prefix_orig:e.CartStore.phone_details.default_prefix,contact_number_orig:e.CartStore.phone_details.contact_number},null,8,["onAfterChangephone","prefixes","phone_prefix_orig","contact_number_orig"]),a(F,{ref:"client_address",redirect:this.$route.path,onAfterSetplaceid:l.afterSetplaceid,onFillAddress:l.fillAddress},null,8,["redirect","onAfterSetplaceid","onFillAddress"]),e.CartStore.cart_merchant.merchant_id?(o(),m(j,{key:1,ref:"promo_list",enabled_voucher:e.CartStore.enabled_voucher,onAfterApplypromo:l.afterApplypromo,onAfterRemovepromo:l.afterRemovepromo,merchant_id:e.CartStore.cart_merchant.merchant_id},null,8,["enabled_voucher","onAfterApplypromo","onAfterRemovepromo","merchant_id"])):_("",!0),a(N,{ref:"stripe",payment_code:"stripe",title:"Add Stripe",label:{submit:this.$t("Add Stripe"),notes:this.$t("Add your card account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(W,{ref:"paypal",payment_code:"paypal",title:"Add Paypal",label:{submit:this.$t("Add Paypal"),notes:this.$t("Pay using your paypal account"),payment_title:this.$t("Pay using Paypal"),payment_subtitle:this.$t("You will re-direct to paypal account to login to your account.")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(Y,{ref:"razorpay",payment_code:"razorpay",title:"Add Razorpay",label:{submit:this.$t("Submit"),notes:this.$t("Pay using your Razorpay account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(H,{ref:"mercadopago",payment_code:"mercadopago",title:"Add Mercadopago",label:{submit:this.$t("Add Mercadopago"),submit_form:this.$t("Submit"),notes:this.$t("Pay using your mercadopago account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(X,{ref:"redsys",payment_code:"redsys",title:"Add redsys",label:{submit:this.$t("Add redsys"),submit_form:this.$t("Submit"),notes:this.$t("Pay using your redsys account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["label","payment_credentials","onAfterAddpayment","onAfterPayment"]),l.getMerchantUUID?(o(),m(G,{key:2,ref:"realtime",getevent:"cart",subscribe_to:l.getMerchantUUID,onAfterReceive:l.afterReceive},null,8,["subscribe_to","onAfterReceive"])):_("",!0)],64)}var Dt=ee(Ce,[["render",ot]]);export{Dt as default};
